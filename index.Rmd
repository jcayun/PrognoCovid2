---
title: "Avance Prognocovid 2021"
author: "Laboratorio de Carcinogenésis Química y Farmacogenética - Universidad de Chile"
date: "02/diciembre/2021"
output: 
  prettydoc::html_pretty:
    theme: cayman
    highlight: github
---

```{r results="hide", message=FALSE}
library(dplyr) # for create tables
library(table1) # for create tables
library(data.table) # for create tables
library(xlsx) # for import files
library(XML) # for import files
library(ggplot2) # for create graph 
library(psych) 
library(expss)
library(car)
library(compute.es)
library(effects)
library(multcomp)
library(pastecs)
library(WRSS)
library(gtsummary) # for create summary tables
library(readxl) # for import files
library(gridExtra)
library(ez)     # for repeated-measures analysis
library(ggpubr) # for plots
library(car)    # for Tukey post-hoc test
library(rstatix)# for p-values in plots
library(tinytex) # for use marckdown
library(printr) #for print tables
library(readxl) # for read excel files
library(reshape2)
library(printr)
library(transplantr) 
library(gtsummary)
library(haplo.stats)
library(SNPassoc)
library(plink)

```



```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}

#Se agregan librerias
library(dplyr) # for create tables
library(table1) # for create tables
library(data.table) # for create tables
library(xlsx) # for import files
library(XML) # for import files
library(ggplot2) # for create graph 
library(psych) 
library(expss)
library(car)
library(compute.es)
library(effects)
library(multcomp)
library(pastecs)
library(WRS2)
library(gtsummary) # for create summary tables
library(readxl) # for import files
library(gridExtra)
library(ez)     # for repeated-measures analysis
library(ggpubr) # for plots
library(car)    # for Tukey post-hoc test
library(rstatix)# for p-values in plots
library(tinytex) # for use marckdown
library(printr) #for print tables
library(readxl) # for read excel files
library(reshape2)
library(printr)
library(transplantr) 
library(gtsummary)
library(haplo.stats)
library(SNPassoc)
library(plink)
library(lattice)
library(genio)


```

```{r}
#leyendo archivos bim y fam
fam <- read_fam("samples_subset.fam")
bim <- read_bim("samples_subset.bim")

#para leer los archivos bed
#instalar BiocManager::install("snpStats")
library(snpStats)
fam <- system.file("extdata/sample.fam", package="snpStats")
bim <- system.file("extdata/sample.bim", package="snpStats")
bed <- system.file("extdata/sample.bed", package="snpStats")
sample <- read.plink(bed, bim, fam)
#ref: http://bioconductor.org/packages/release/bioc/vignettes/snpStats/inst/doc/data-input-vignette.R



```

```{r}

#Objetivos:
#Outcomes: mortalidad, VMI, VMI 10 dia, FOM, Fall, 
#Modelo predictivo 1: clínico
#Modelo predictivo 1: bioquímico
#Modelo predictivo 1: genética
#Modelo predictivo 1: sociodemográfica

#24 mill de variantes, haciendo los filtros
#vcf se pasa a plink y se eliminan las filas de filtros, trialeleicas por ejemplos, eliminan 139 mil filas 
#filtro hw
#filtro maf
#se copia el family id con el subjetid id (el mismo)
#datos vienen faseados
#


```


#Avance de resultados del estudio PrognoCovid. Los datos se han actualizado a la fecha indicada. 

#Tabla 1 y 2. Se muestran los formularios completos.

```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
library(readr)
COVIDRepositorioCRF_DATA <- read_csv("COVIDRepositorioCRF_DATA_2021-12-02_1307.csv")
data <- COVIDRepositorioCRF_DATA
data <- data[!(is.na(data$cod_participante)),]
data2 <- COVIDRepositorioCRF_DATA
data2 <- data2[(is.na(data2$cod_participante)),]
```


```{r echo=FALSE, results='hide', comment=NA,message=FALSE, warning = FALSE}
#Formularios únicos
data$ficha_demografica_complete <- factor(data$ficha_demografica_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))
data$ficha_clinica_complete <- factor(data$ficha_clinica_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))
data$evaluacion_egreso_complete <- factor(data$evaluacion_egreso_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))


```

```{r echo=FALSE, comment=NA, message=FALSE, warning = FALSE}
table1(~  data$ficha_demografica_complete + data$ficha_clinica_complete + data$evaluacion_egreso_complete  | data$hospital, data=data, overall = "Total")

```


```{r echo=FALSE, results='hide', comment=NA,message=FALSE, warning = FALSE}

#Formularios que se repiten
data2$seguimiento_complete <- factor(data2$seguimiento_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))
data2$medicamentos_covid_complete <- factor(data2$medicamentos_covid_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))
data2$tratamiento_covid_complete <- factor(data2$tratamiento_covid_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))
data2$exmenes_de_sangre_complete <- factor(data2$exmenes_de_sangre_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))
data2$imagenologa_y_cultivos_complete <- factor(data2$imagenologa_y_cultivos_complete, levels=c(0,1,2), labels = c("Incomplete","Unverified","Complete"))


```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data2$seguimiento_complete + data2$tratamiento_covid_complete + data2$medicamentos_covid_complete + data2$imagenologa_y_cultivos_complete, data=data2, overall = "Total")
```



#Tabla 3. Se muestra el resumen de los datos principales. 


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data$hospital <- factor(data$hospital, levels = c(1,2,3,4,5,6,7,8,9,10,11,12), labels = c("HAP", "UCH", "HSJ", "FAL", "HIG", "TEM", "TAR", "ANT", "VAL", "MAG", "HDS", "UDA"))
data$sexo <- factor(data$sexo, levels = c(1,0), labels = c("masculino", "femenino"))
data$PCR <- factor(data$metodo_diagnostico___1, levels = c(1,0), labels = c("Si", "No"))
data$prueba_serologica <- factor(data$metodo_diagnostico___2, levels = c(1,0), labels = c("Si", "No"))
data$sospecha_clinica <- factor(data$metodo_diagnostico___3, levels = c(1,0), labels = c("Si", "No"))
data$tabaco = factor(data$tabaco, levels = c(1,0), labels = c("Si", "No"))
data$alcohol = factor(data$alcohol, levels = c(1,0,2), labels = c("Si", "No", "Suspendido"))
data$drogas = factor(data$drogas, levels = c(1,0,2), labels = c("Si", "No", "Suspendido"))
data$dias_hosp = data$total_hosp
data$num_enf_previas = data$enf_previas_no

```


```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data$sexo + data$edad_participante + data$PCR + data$prueba_serologica + data$sospecha_clinica | data$hospital, data=data, overall = "Total")

table1(~  data$tabaco + data$alcohol + data$drogas + data$dias_hosp + data$num_enf_previas | data$hospital, data=data, overall = "Total")

```



#Tabla 4. Determinantes sociales


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data$educacion <- factor(data$educacion, levels=c("0","1","2","3","4","5","6","7","8","9","-888"), labels = c("Ninguno","Analfabeto","Básico completo","Medio completo","Técnico profesional completo","Universitario completo","Básico incompleto","Medio incompleto","Técnico profesional incompleto","Universitario incompleto","No Sabe / No determinado"))

data$ocupacion <- factor(data$ocupacion, levels=c("1","2","3","-888"), labels = c("Activo","Inactivo","Cesante","No Sabe / No determinado"))

data$prevision <- factor(data$prevision, levels=c("1","2","3","4","5","99"), labels = c("Sistema Público FONASA","F.F.A.A y de orden","ISAPRE","Particular","Ninguno","Otro {otra_prevision}"))

```


```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data$educacion + data$ocupacion + data$prevision, data=data, overall = "Total")

```



```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning=FALSE}
data$ninguno <- factor(data$ant_sintomaticos___0, levels = c(1,0), labels = c("Si", "No"))
data$fiebre <- factor(data$ant_sintomaticos___101, levels = c(1,0), labels = c("Si", "No"))
data$escalofrio <- factor(data$ant_sintomaticos___102, levels = c(1,0), labels = c("Si", "No"))
data$con_nasal <- factor(data$ant_sintomaticos___103, levels = c(1,0), labels = c("Si", "No"))
data$tos_seca <- factor(data$ant_sintomaticos___104, levels = c(1,0), labels = c("Si", "No"))
data$tos_productiva <- factor(data$ant_sintomaticos___105, levels = c(1,0), labels = c("Si", "No"))
data$dolor_pecho <- factor(data$ant_sintomaticos___106, levels = c(1,0), labels = c("Si", "No"))
data$disnea <- factor(data$ant_sintomaticos___107, levels = c(1,0), labels = c("Si", "No"))
data$disnea_reposo <- factor(data$ant_sintomaticos___134, levels = c(1,0), labels = c("Si", "No"))
data$taquipnea <- factor(data$ant_sintomaticos___135, levels = c(1,0), labels = c("Si", "No"))
data$hiperpnea <- factor(data$ant_sintomaticos___136, levels = c(1,0), labels = c("Si", "No"))
data$bradipnea <- factor(data$ant_sintomaticos___137, levels = c(1,0), labels = c("Si", "No"))
data$estornudos <- factor(data$ant_sintomaticos___108, levels = c(1,0), labels = c("Si", "No"))
data$hemoptisis <- factor(data$ant_sintomaticos___138, levels = c(1,0), labels = c("Si", "No"))
data$secresion_nasal <- factor(data$ant_sintomaticos___109, levels = c(1,0), labels = c("Si", "No"))
data$irritacion_ocular <- factor(data$ant_sintomaticos___110, levels = c(1,0), labels = c("Si", "No"))
data$conjuntivitis <- factor(data$ant_sintomaticos___111, levels = c(1,0), labels = c("Si", "No"))
data$diarrea <- factor(data$ant_sintomaticos___112, levels = c(1,0), labels = c("Si", "No"))
data$cansancio <- factor(data$ant_sintomaticos___113, levels = c(1,0), labels = c("Si", "No"))
data$entumecimiento <- factor(data$ant_sintomaticos___114, levels = c(1,0), labels = c("Si", "No"))
data$dolor_abdominal <- factor(data$ant_sintomaticos___115, levels = c(1,0), labels = c("Si", "No"))
data$dolor_espalda <- factor(data$ant_sintomaticos___116, levels = c(1,0), labels = c("Si", "No"))
data$dolor_garganta <- factor(data$ant_sintomaticos___117, levels = c(1,0), labels = c("Si", "No"))
data$dolor_respirar <- factor(data$ant_sintomaticos___118, levels = c(1,0), labels = c("Si", "No"))
data$vomitos <- factor(data$ant_sintomaticos___119, levels = c(1,0), labels = c("Si", "No"))
data$incap_hablar <- factor(data$ant_sintomaticos___120, levels = c(1,0), labels = c("Si", "No"))
data$mialgia <- factor(data$ant_sintomaticos___121, levels = c(1,0), labels = c("Si", "No"))
data$odinofagia <- factor(data$ant_sintomaticos___122, levels = c(1,0), labels = c("Si", "No"))
data$adeusia <- factor(data$ant_sintomaticos___123, levels = c(1,0), labels = c("Si", "No"))
data$decaimiento <- factor(data$ant_sintomaticos___124, levels = c(1,0), labels = c("Si", "No"))
data$dolor_opresion_pecho <- factor(data$ant_sintomaticos___125, levels = c(1,0), labels = c("Si", "No"))
data$lesiones_cutaneas <- factor(data$ant_sintomaticos___126, levels = c(1,0), labels = c("Si", "No"))
data$perdida_color_dedos <- factor(data$ant_sintomaticos___127, levels = c(1,0), labels = c("Si", "No"))
data$mareos <- factor(data$ant_sintomaticos___128, levels = c(1,0), labels = c("Si", "No"))
data$cefalea <- factor(data$ant_sintomaticos___129, levels = c(1,0), labels = c("Si", "No"))
data$perdida_consciencia <- factor(data$ant_sintomaticos___139, levels = c(1,0), labels = c("Si", "No"))
data$anosmia <- factor(data$ant_sintomaticos___130, levels = c(1,0), labels = c("Si", "No"))
data$enrojecimento_piel <- factor(data$ant_sintomaticos___131, levels = c(1,0), labels = c("Si", "No"))
data$picazon_piel <- factor(data$ant_sintomaticos___132, levels = c(1,0), labels = c("Si", "No"))
data$erupciones_bucales <- factor(data$ant_sintomaticos___133, levels = c(1,0), labels = c("Si", "No"))

```

#Tabla 5. Sintomas al ingreso hospitalario

```{r echo=FALSE, comment=NA, warning= FALSE, message=FALSE}
table1(~  data$ninguno + data$fiebre + data$escalofrio  +data$con_nasal  +data$tos_seca  +data$tos_productiva  +data$dolor_pecho  +data$disnea  +data$disnea_reposo  +data$taquipnea  +data$hiperpnea   +data$bradipnea  +data$estornudos +data$hemoptisis  +data$secresion_nasal  +data$irritacion_ocular  +data$conjuntivitis +data$diarrea  +data$cansancio  +data$entumecimiento  +data$dolor_abdominal  +data$dolor_espalda  +data$dolor_garganta  +data$dolor_respirar  +data$vomitos  +data$incap_hablar  +data$mialgia  +data$odinofagia  +data$adeusia  +data$decaimiento  +data$dolor_opresion_pecho  +data$lesiones_cutaneas +data$perdida_color_dedos  +data$mareos  +data$cefalea  +data$perdida_consciencia  +data$anosmia  +data$enrojecimento_piel +data$picazon_piel  +data$erupciones_bucales, data=data, overall = "Total")

```


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data$ninguna  <- factor(data$enf_previas___0, levels = c(1,0), labels = c("Si", "No"))
data$bronquitis  <- factor(data$enf_previas___2, levels = c(1,0), labels = c("Si", "No"))
data$hipertension  <- factor(data$enf_previas___3, levels = c(1,0), labels = c("Si", "No"))
data$dislipidemias  <- factor(data$enf_previas___4, levels = c(1,0), labels = c("Si", "No"))
data$cardiopatia_cor  <- factor(data$enf_previas___5, levels = c(1,0), labels = c("Si", "No"))
data$enf_hep_cronica  <- factor(data$enf_previas___6, levels = c(1,0), labels = c("Si", "No"))
data$ins_renal_cronica  <- factor(data$enf_previas___7, levels = c(1,0), labels = c("Si", "No"))
data$asma  <- factor(data$enf_previas___8, levels = c(1,0), labels = c("Si", "No"))
data$epoc  <- factor(data$enf_previas___9, levels = c(1,0), labels = c("Si", "No"))
data$fibrosis_quistica_  <- factor(data$enf_previas___10, levels = c(1,0), labels = c("Si", "No"))
data$fibrosis_pulmonar_  <- factor(data$enf_previas___11, levels = c(1,0), labels = c("Si", "No"))
data$enfisema  <- factor(data$enf_previas___12, levels = c(1,0), labels = c("Si", "No"))
data$diabetes1  <- factor(data$enf_previas___13, levels = c(1,0), labels = c("Si", "No"))
data$diabetes2  <- factor(data$enf_previas___14, levels = c(1,0), labels = c("Si", "No"))
data$aterosclerosis  <- factor(data$enf_previas___15, levels = c(1,0), labels = c("Si", "No"))
data$acv  <- factor(data$enf_previas___16, levels = c(1,0), labels = c("Si", "No"))
data$ins_cardiaca  <- factor(data$enf_previas___17, levels = c(1,0), labels = c("Si", "No"))
data$obesidad  <- factor(data$enf_previas___18, levels = c(1,0), labels = c("Si", "No"))
data$enf_renal_cron  <- factor(data$enf_previas___19, levels = c(1,0), labels = c("Si", "No"))
data$crohn  <- factor(data$enf_previas___20, levels = c(1,0), labels = c("Si", "No"))
data$cancer  <- factor(data$enf_previas___21, levels = c(1,0), labels = c("Si", "No"))
data$tuberculosis  <- factor(data$enf_previas___22, levels = c(1,0), labels = c("Si", "No"))
data$vih  <- factor(data$enf_previas___23, levels = c(1,0), labels = c("Si", "No"))
data$enf_inf_previa  <- factor(data$enf_previas___24, levels = c(1,0), labels = c("Si", "No"))
data$enf_infecciosa  <- factor(data$enf_previas___25, levels = c(1,0), labels = c("Si", "No"))
data$anemia  <- factor(data$enf_previas___26, levels = c(1,0), labels = c("Si", "No"))
data$ar  <- factor(data$enf_previas___27, levels = c(1,0), labels = c("Si", "No"))
data$lupus  <- factor(data$enf_previas___28, levels = c(1,0), labels = c("Si", "No"))
data$otras_enf_reumatoides  <- factor(data$enf_previas___29, levels = c(1,0), labels = c("Si", "No"))
data$hep_b  <- factor(data$enf_previas___30, levels = c(1,0), labels = c("Si", "No"))
data$hep_c  <- factor(data$enf_previas___31, levels = c(1,0), labels = c("Si", "No"))
data$otra_hep  <- factor(data$enf_previas___32, levels = c(1,0), labels = c("Si", "No"))
data$demencia  <- factor(data$enf_previas___33, levels = c(1,0), labels = c("Si", "No"))
data$parkinson  <- factor(data$enf_previas___34, levels = c(1,0), labels = c("Si", "No"))
data$alzheimer  <- factor(data$enf_previas___35, levels = c(1,0), labels = c("Si", "No"))
data$depresion  <- factor(data$enf_previas___36, levels = c(1,0), labels = c("Si", "No"))
data$ansiedad  <- factor(data$enf_previas___37, levels = c(1,0), labels = c("Si", "No"))
data$alcohol_abuso  <- factor(data$enf_previas___38, levels = c(1,0), labels = c("Si", "No"))
data$drogas_abuso  <- factor(data$enf_previas___39, levels = c(1,0), labels = c("Si", "No"))
data$otro_salud_mental  <- factor(data$enf_previas___40, levels = c(1,0), labels = c("Si", "No"))
data$inmunosupresion  <- factor(data$enf_previas___41, levels = c(1,0), labels = c("Si", "No"))
data$aki  <- factor(data$enf_previas___42, levels = c(1,0), labels = c("Si", "No"))
data$enf_pul_intersticial  <- factor(data$enf_previas___43, levels = c(1,0), labels = c("Si", "No"))
data$inf_resp_menos_30dias  <- factor(data$enf_previas___44, levels = c(1,0), labels = c("Si", "No"))
data$otras_enf_previas  <- factor(data$enf_previas___99, levels = c(1,0), labels = c("Si", "No"))

```

#Tabla 6. Enfermedades previos al ingreso hospitalario.

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data$ninguna  +data$bronquitis   +data$hipertension   +data$dislipidemias   +data$cardiopatia_cor   +data$enf_hep_cronica   +data$ins_renal_cronica   +data$asma  +data$epoc   +data$fibrosis_quistica_   +data$fibrosis_pulmonar_   +data$enfisema  +data$diabetes1   +data$diabetes2   +data$aterosclerosis   +data$acv   +data$ins_cardiaca   +data$obesidad   +data$enf_renal_cron   +data$crohn  +data$cancer  +data$tuberculosis   +data$vih   +data$enf_inf_previa   +data$enf_infecciosa  +data$anemia   +data$ar   +data$lupus   +data$otras_enf_reumatoides   +data$hep_b   +data$hep_c   +data$otra_hep  +data$demencia  +data$parkinson  +data$alzheimer   +data$depresion  +data$ansiedad   +data$alcohol_abuso   +data$drogas_abuso  +data$otro_salud_mental   +data$inmunosupresion   +data$aki   +data$enf_pul_intersticial   +data$inf_resp_menos_30dias  +data$otras_enf_previas, data=data, overall = "Total")

```

#Tabla 7.  Datos clínicos al ingreso

```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data$alergia <- factor(data$alergia, levels = c(1,0), labels = c("Si", "No"))
data$peso <- as.numeric(data$peso)
data$altura <- as.numeric(data$altura)
data$dis_ingreso <- as.numeric(data$dis_ingreso)
data$sis_ingreso <- as.numeric(data$sis_ingreso)
data$alteracion_cutanea <- factor(data$alteracion_cutanea, levels = c(1,0), labels = c("Si", "No"))
data$glasgow <- as.numeric(data$glasgow)
data$art_media_ingreso <- as.numeric(data$art_media_ingreso)
data$medicamentos <- factor(data$medicamentos, levels = c(1,0), labels = c("Si", "No"))
data$medicamentos_cuanto<- as.numeric(data$medicamentos_cuanto)

```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data$peso + data$altura + data$imc + data$peso_ideal + data$alteracion_cutanea | data$hospital, data=data, overall = "Total")

table1(~  data$temp_ingreso + data$frec_cardiaca + data$dis_ingreso + data$sis_ingreso + data$art_media_ingreso + data$glasgow + data$medicamentos_cuanto | data$hospital, data=data, overall = "Total")

```

#Tratamiento COVID y parámetros respiratorios


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}

data2$ven_soporte <- factor(data2$ven_soporte, levels = c(1,2,3,4,0), labels = c("oxigenoterapia_convencional", "oxigenoterapia_alto_flujo", "vent_mec_no_inv", "vent_mec_inva", "ninguna"))
data2$ven_modalidad <- factor(data2$ven_modalidad, levels = c(1,2,3,4), labels = c("vent_prog_volumen", "vent_prog_presion", "vent_mixta_doble_control", "presion_positiva_contra_via_aerea"))

data2$ven_humidificacion <- factor(data2$ven_humidificacion, levels = c(1,0), labels = c("Si", "No"))
data2$ven_prono <- factor(data2$ven_prono, levels = c(1,0), labels = c("Si", "No"))

data2$ven_ecmo <- factor(data2$ven_ecmo, levels = c(1,0), labels = c("Si", "No"))

data2$no_oxi <- factor(data2$no_oxi, levels = c(1,0), labels = c("Si", "No"))
data2$no_sop_inv <- factor(data2$no_sop_inv, levels = c(1,0), labels = c("Si", "No"))
data2$no_nes <- factor(data2$no_nes, levels = c(1,0), labels = c("Si", "No"))
data2$no_sop_no_inv <- factor(data2$no_sop_no_inv, levels = c(1,0), labels = c("Si", "No"))

```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data2$ven_soporte + data2$ven_modalidad + data2$ven_fio +data2$ven_pafi +data2$ven_po +data2$ven_pco +data2$ven_vol +data2$ven_frec_res +data2$ven_peep +data2$ven_presion_sop +data2$ven_tiempo +data2$ven_pme +data2$ven_pmeseta +data2$ven_compliance +data2$ven_humidificacion +data2$ven_prono +data2$ven_balance +data2$ven_compliance +data2$ven_ecmo , data=data2, overall = "Total")
```

#Tratamiento COVID (oxigenoterapia convencional, sop. respiratorio invasivo, sop. respiratorio no invasivo, necesidad de m.a. de VM)

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data2$no_oxi +data2$no_sop_inv +data2$no_nes +data2$no_sop_no_inv, data=data2, overall = "Total")
```

#Necesidad de UPC, UCI

```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}

data$nesecidad_upc <- factor(data$nesecidad_upc, levels = c(1,0), labels = c("Si", "No"))
data$nesecidad_uci <- factor(data$nesecidad_uci, levels = c(1,0), labels = c("Si", "No"))

```


```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data$total_hosp + data$nesecidad_upc + data$total_upc + 
data$nesecidad_uci + data$total_uci | data$hospital,   data=data, overall = "Total")
```

#Evaluación al egreso


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data$tipo_egreso <- factor(data$tipo_egreso, levels = c("1","2","3"), labels = c("Alta a domicilio","Traslado a otro centro hospitalario","Fallecimiento"))
data$falla_multiple <- factor(data$falla_multiple, levels = c(1,0), labels = c("Si", "No"))
data$fibrosis_pulmonar <- factor(data$fibrosis_pulmonar, levels = c(1,0), labels = c("Si", "No"))
data$sos_tormenta <- factor(data$sos_tormenta, levels = c(1,0), labels = c("Si", "No"))
data$sos_enfermedad <- factor(data$sos_enfermedad, levels = c(1,0), labels = c("Si", "No"))
data$evento_cardio_mayor <- factor(data$evento_cardio_mayor, levels = c(1,0), labels = c("Si", "No"))
data$iaas<- factor(data$iaas, levels = c(1,0), labels = c("Si", "No"))
data$uso_vmi <- factor(data$uso_vmi, levels = c(1,0), labels = c("Si", "No"))
data$nesecidad_vmi <- factor(data$nesecidad_vmi, levels = c(1,0), labels = c("Si", "No"))
data$evol_rxtorax <- factor(data$evol_rxtorax, levels = c(1,2,3), labels = c("mejoria", "progresion", "normalidad"))
data$evol_tomo <- factor(data$evol_tomo, levels = c(1,2,3), labels = c("mejoria", "progresion", "normalidad")) 
data$fallecido <- factor(data$fallecido, levels = c(1,0), labels = c("Si", "No"))
```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data$tipo_egreso + data$falla_multiple + data$fibrosis_pulmonar + data$sos_tormenta + data$sos_enfermedad + data$evento_cardio_mayor | data$hospital, data=data, overall = "Total")

table1(~ data$iaas + data$uso_vmi + data$nesecidad_vmi + data$evol_rxtorax + data$evol_tomo +  data$fallecido | data$hospital, data=data, overall = "Total")
```

#########################################################################
#########################################################################
#########################################################################
#########################################################################

#########################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
##################################################################################################################################################
#########################################################################
#########################################################################
#########################################################################
#Tabla resumen demografico en HUAP

#Tabla 8. Se muestra el resumen de los datos principales en HUAP 


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
library(readr)
COVIDRepositorioCRF_DATA <- read_csv("COVIDRepositorioCRF_DATA_2021-12-02_1307.csv")
data3 <- COVIDRepositorioCRF_DATA
data3 <- data3[data3$hospital == 1 | data3$hospital == 2 |  data3$hospital == 5 ,]
data3 <- data3[!(is.na(data3$cod_participante)),]

data4 <- COVIDRepositorioCRF_DATA
data4 <- data4[data4$redcap_data_access_group == 'hap' |  data4$redcap_data_access_group == 'uch'    |  data4$redcap_data_access_group == 'hig' ,]
data4 <- data4[(is.na(data4$cod_participante)),]

```

```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data3$hospital <- factor(data3$hospital, levels = c(1,2,3,4,5,6,7,8,9,10,11,12), labels = c("HAP", "UCH", "HSJ", "FAL", "HIG", "TEM", "TAR", "ANT", "VAL", "MAG", "HDS", "UDA"))
data3$sexo <- factor(data3$sexo, levels = c(1,0), labels = c("masculino", "femenino"))
data3$PCR <- factor(data3$metodo_diagnostico___1, levels = c(1,0), labels = c("Si", "No"))
data3$prueba_serologica <- factor(data3$metodo_diagnostico___2, levels = c(1,0), labels = c("Si", "No"))
data3$sospecha_clinica <- factor(data3$metodo_diagnostico___3, levels = c(1,0), labels = c("Si", "No"))
data3$tabaco = factor(data3$tabaco, levels = c(1,0), labels = c("Si", "No"))
data3$alcohol = factor(data3$alcohol, levels = c(1,0,2), labels = c("Si", "No", "Suspendido"))
data3$drogas = factor(data3$drogas, levels = c(1,0,2), labels = c("Si", "No", "Suspendido"))
data3$dias_hosp = data3$total_hosp
data3$num_enf_previas = data3$enf_previas_no

```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data3$sexo + data3$edad_participante + data3$PCR + data3$prueba_serologica + data3$sospecha_clinica + data3$tabaco + data3$alcohol + data3$drogas + data3$dias_hosp + data3$num_enf_previas | data3$hospital, data=data3, overall = "Total")
```

#Tabla 9. Sintomas al ingreso en HUAP



```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning=FALSE}
data3$ninguno <- factor(data3$ant_sintomaticos___0, levels = c(1,0), labels = c("Si", "No"))
data3$fiebre <- factor(data3$ant_sintomaticos___101, levels = c(1,0), labels = c("Si", "No"))
data3$escalofrio <- factor(data3$ant_sintomaticos___102, levels = c(1,0), labels = c("Si", "No"))
data3$con_nasal <- factor(data3$ant_sintomaticos___103, levels = c(1,0), labels = c("Si", "No"))
data3$tos_seca <- factor(data3$ant_sintomaticos___104, levels = c(1,0), labels = c("Si", "No"))
data3$tos_productiva <- factor(data3$ant_sintomaticos___105, levels = c(1,0), labels = c("Si", "No"))
data3$dolor_pecho <- factor(data3$ant_sintomaticos___106, levels = c(1,0), labels = c("Si", "No"))
data3$disnea <- factor(data3$ant_sintomaticos___107, levels = c(1,0), labels = c("Si", "No"))
data3$disnea_reposo <- factor(data3$ant_sintomaticos___134, levels = c(1,0), labels = c("Si", "No"))
data3$taquipnea <- factor(data3$ant_sintomaticos___135, levels = c(1,0), labels = c("Si", "No"))
data3$hiperpnea <- factor(data3$ant_sintomaticos___136, levels = c(1,0), labels = c("Si", "No"))
data3$bradipnea <- factor(data3$ant_sintomaticos___137, levels = c(1,0), labels = c("Si", "No"))
data3$estornudos <- factor(data3$ant_sintomaticos___108, levels = c(1,0), labels = c("Si", "No"))
data3$hemoptisis <- factor(data3$ant_sintomaticos___138, levels = c(1,0), labels = c("Si", "No"))
data3$secresion_nasal <- factor(data3$ant_sintomaticos___109, levels = c(1,0), labels = c("Si", "No"))
data3$irritacion_ocular <- factor(data3$ant_sintomaticos___110, levels = c(1,0), labels = c("Si", "No"))
data3$conjuntivitis <- factor(data3$ant_sintomaticos___111, levels = c(1,0), labels = c("Si", "No"))
data3$diarrea <- factor(data3$ant_sintomaticos___112, levels = c(1,0), labels = c("Si", "No"))
data3$cansancio <- factor(data3$ant_sintomaticos___113, levels = c(1,0), labels = c("Si", "No"))
data3$entumecimiento <- factor(data3$ant_sintomaticos___114, levels = c(1,0), labels = c("Si", "No"))
data3$dolor_abdominal <- factor(data3$ant_sintomaticos___115, levels = c(1,0), labels = c("Si", "No"))
data3$dolor_espalda <- factor(data3$ant_sintomaticos___116, levels = c(1,0), labels = c("Si", "No"))
data3$dolor_garganta <- factor(data3$ant_sintomaticos___117, levels = c(1,0), labels = c("Si", "No"))
data3$dolor_respirar <- factor(data3$ant_sintomaticos___118, levels = c(1,0), labels = c("Si", "No"))
data3$vomitos <- factor(data3$ant_sintomaticos___119, levels = c(1,0), labels = c("Si", "No"))
data3$incap_hablar <- factor(data3$ant_sintomaticos___120, levels = c(1,0), labels = c("Si", "No"))
data3$mialgia <- factor(data3$ant_sintomaticos___121, levels = c(1,0), labels = c("Si", "No"))
data3$odinofagia <- factor(data3$ant_sintomaticos___122, levels = c(1,0), labels = c("Si", "No"))
data3$adeusia <- factor(data3$ant_sintomaticos___123, levels = c(1,0), labels = c("Si", "No"))
data3$decaimiento <- factor(data3$ant_sintomaticos___124, levels = c(1,0), labels = c("Si", "No"))
data3$dolor_opresion_pecho <- factor(data3$ant_sintomaticos___125, levels = c(1,0), labels = c("Si", "No"))
data3$lesiones_cutaneas <- factor(data3$ant_sintomaticos___126, levels = c(1,0), labels = c("Si", "No"))
data3$perdida_color_dedos <- factor(data3$ant_sintomaticos___127, levels = c(1,0), labels = c("Si", "No"))
data3$mareos <- factor(data3$ant_sintomaticos___128, levels = c(1,0), labels = c("Si", "No"))
data3$cefalea <- factor(data3$ant_sintomaticos___129, levels = c(1,0), labels = c("Si", "No"))
data3$perdida_consciencia <- factor(data3$ant_sintomaticos___139, levels = c(1,0), labels = c("Si", "No"))
data3$anosmia <- factor(data3$ant_sintomaticos___130, levels = c(1,0), labels = c("Si", "No"))
data3$enrojecimento_piel <- factor(data3$ant_sintomaticos___131, levels = c(1,0), labels = c("Si", "No"))
data3$picazon_piel <- factor(data3$ant_sintomaticos___132, levels = c(1,0), labels = c("Si", "No"))
data3$erupciones_bucales <- factor(data3$ant_sintomaticos___133, levels = c(1,0), labels = c("Si", "No"))

```



```{r echo=FALSE, comment=NA, warning= FALSE, message=FALSE}
table1(~  data3$ninguno + data3$fiebre + data3$escalofrio  +data3$con_nasal  +data3$tos_seca  +data3$tos_productiva  +data3$dolor_pecho  +data3$disnea  +data3$disnea_reposo  +data3$taquipnea  +data3$hiperpnea   +data3$bradipnea  +data3$estornudos +data3$hemoptisis  +data3$secresion_nasal  +data3$irritacion_ocular  +data3$conjuntivitis +data3$diarrea  +data3$cansancio  +data3$entumecimiento  +data3$dolor_abdominal  +data3$dolor_espalda  +data3$dolor_garganta  +data3$dolor_respirar  +data3$vomitos  +data3$incap_hablar  +data3$mialgia  +data3$odinofagia  +data3$adeusia  +data3$decaimiento  +data3$dolor_opresion_pecho  +data3$lesiones_cutaneas +data3$perdida_color_dedos  +data3$mareos  +data3$cefalea  +data3$perdida_consciencia  +data3$anosmia  +data3$enrojecimento_piel +data3$picazon_piel  +data3$erupciones_bucales, data=data3, overall = "Total")

```


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data3$ninguna  <- factor(data3$enf_previas___0, levels = c(1,0), labels = c("Si", "No"))
data3$bronquitis  <- factor(data3$enf_previas___2, levels = c(1,0), labels = c("Si", "No"))
data3$hipertension  <- factor(data3$enf_previas___3, levels = c(1,0), labels = c("Si", "No"))
data3$dislipidemias  <- factor(data3$enf_previas___4, levels = c(1,0), labels = c("Si", "No"))
data3$cardiopatia_cor  <- factor(data3$enf_previas___5, levels = c(1,0), labels = c("Si", "No"))
data3$enf_hep_cronica  <- factor(data3$enf_previas___6, levels = c(1,0), labels = c("Si", "No"))
data3$ins_renal_cronica  <- factor(data3$enf_previas___7, levels = c(1,0), labels = c("Si", "No"))
data3$asma  <- factor(data3$enf_previas___8, levels = c(1,0), labels = c("Si", "No"))
data3$epoc  <- factor(data3$enf_previas___9, levels = c(1,0), labels = c("Si", "No"))
data3$fibrosis_quistica_  <- factor(data3$enf_previas___10, levels = c(1,0), labels = c("Si", "No"))
data3$fibrosis_pulmonar_  <- factor(data3$enf_previas___11, levels = c(1,0), labels = c("Si", "No"))
data3$enfisema  <- factor(data3$enf_previas___12, levels = c(1,0), labels = c("Si", "No"))
data3$diabetes1  <- factor(data3$enf_previas___13, levels = c(1,0), labels = c("Si", "No"))
data3$diabetes2  <- factor(data3$enf_previas___14, levels = c(1,0), labels = c("Si", "No"))
data3$aterosclerosis  <- factor(data3$enf_previas___15, levels = c(1,0), labels = c("Si", "No"))
data3$acv  <- factor(data3$enf_previas___16, levels = c(1,0), labels = c("Si", "No"))
data3$ins_cardiaca  <- factor(data3$enf_previas___17, levels = c(1,0), labels = c("Si", "No"))
data3$obesidad  <- factor(data3$enf_previas___18, levels = c(1,0), labels = c("Si", "No"))
data3$enf_renal_cron  <- factor(data3$enf_previas___19, levels = c(1,0), labels = c("Si", "No"))
data3$crohn  <- factor(data3$enf_previas___20, levels = c(1,0), labels = c("Si", "No"))
data3$cancer  <- factor(data3$enf_previas___21, levels = c(1,0), labels = c("Si", "No"))
data3$tuberculosis  <- factor(data3$enf_previas___22, levels = c(1,0), labels = c("Si", "No"))
data3$vih  <- factor(data3$enf_previas___23, levels = c(1,0), labels = c("Si", "No"))
data3$enf_inf_previa  <- factor(data3$enf_previas___24, levels = c(1,0), labels = c("Si", "No"))
data3$enf_infecciosa  <- factor(data3$enf_previas___25, levels = c(1,0), labels = c("Si", "No"))
data3$anemia  <- factor(data3$enf_previas___26, levels = c(1,0), labels = c("Si", "No"))
data3$ar  <- factor(data3$enf_previas___27, levels = c(1,0), labels = c("Si", "No"))
data3$lupus  <- factor(data3$enf_previas___28, levels = c(1,0), labels = c("Si", "No"))
data3$otras_enf_reumatoides  <- factor(data3$enf_previas___29, levels = c(1,0), labels = c("Si", "No"))
data3$hep_b  <- factor(data3$enf_previas___30, levels = c(1,0), labels = c("Si", "No"))
data3$hep_c  <- factor(data3$enf_previas___31, levels = c(1,0), labels = c("Si", "No"))
data3$otra_hep  <- factor(data3$enf_previas___32, levels = c(1,0), labels = c("Si", "No"))
data3$demencia  <- factor(data3$enf_previas___33, levels = c(1,0), labels = c("Si", "No"))
data3$parkinson  <- factor(data3$enf_previas___34, levels = c(1,0), labels = c("Si", "No"))
data3$alzheimer  <- factor(data3$enf_previas___35, levels = c(1,0), labels = c("Si", "No"))
data3$depresion  <- factor(data3$enf_previas___36, levels = c(1,0), labels = c("Si", "No"))
data3$ansiedad  <- factor(data3$enf_previas___37, levels = c(1,0), labels = c("Si", "No"))
data3$alcohol_abuso  <- factor(data3$enf_previas___38, levels = c(1,0), labels = c("Si", "No"))
data3$drogas_abuso  <- factor(data3$enf_previas___39, levels = c(1,0), labels = c("Si", "No"))
data3$otro_salud_mental  <- factor(data3$enf_previas___40, levels = c(1,0), labels = c("Si", "No"))
data3$inmunosupresion  <- factor(data3$enf_previas___41, levels = c(1,0), labels = c("Si", "No"))
data3$aki  <- factor(data3$enf_previas___42, levels = c(1,0), labels = c("Si", "No"))
data3$enf_pul_intersticial  <- factor(data3$enf_previas___43, levels = c(1,0), labels = c("Si", "No"))
data3$inf_resp_menos_30dias  <- factor(data3$enf_previas___44, levels = c(1,0), labels = c("Si", "No"))
data3$otras_enf_previas  <- factor(data3$enf_previas___99, levels = c(1,0), labels = c("Si", "No"))

```

#Tabla 10. Enfermedades previos al ingreso hospitalaria en HUAP

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data3$ninguna  +data3$bronquitis   +data3$hipertension   +data3$dislipidemias   +data3$cardiopatia_cor   +data3$enf_hep_cronica   +data3$ins_renal_cronica   +data3$asma  +data3$epoc   +data3$fibrosis_quistica_   +data3$fibrosis_pulmonar_   +data3$enfisema  +data3$diabetes1   +data3$diabetes2   +data3$aterosclerosis   +data3$acv   +data3$ins_cardiaca   +data3$obesidad   +data3$enf_renal_cron   +data3$crohn  +data3$cancer  +data3$tuberculosis   +data3$vih   +data3$enf_inf_previa   +data3$enf_infecciosa  +data3$anemia   +data3$ar   +data3$lupus   +data3$otras_enf_reumatoides   +data3$hep_b   +data3$hep_c   +data3$otra_hep  +data3$demencia  +data3$parkinson  +data3$alzheimer   +data3$depresion  +data3$ansiedad   +data3$alcohol_abuso   +data3$drogas_abuso  +data3$otro_salud_mental   +data3$inmunosupresion   +data3$aki   +data3$enf_pul_intersticial   +data3$inf_resp_menos_30dias  +data3$otras_enf_previas, data=data3, overall = "Total")

```

#Tabla 11.  Datos clínicos al ingreso en HUAP

```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data3$alergia <- factor(data3$alergia, levels = c(1,0), labels = c("Si", "No"))
data3$peso <- as.numeric(data3$peso)
data3$altura <- as.numeric(data3$altura)
data3$alteracion_cutanea <- factor(data3$alteracion_cutanea, levels = c(1,0), labels = c("Si", "No"))
data3$glasgow <- as.numeric(data3$glasgow)
data3$medicamentos <- factor(data3$medicamentos, levels = c(1,0), labels = c("Si", "No"))
data3$medicamentos_cuanto<- as.numeric(data3$medicamentos_cuanto)

```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~  data3$alergia + data3$peso + data3$altura + data3$imc + data3$peso_ideal + data3$alteracion_cutanea + data3$temp_ingreso + data3$frec_cardiaca + data3$dis_ingreso + data3$sis_ingreso + data3$art_media_ingreso + data3$glasgow + data3$medicamentos + data3$medicamentos_cuanto, data=data3, overall = "Total")

```

#Tratamiento COVID y parámetros respiratorios en HUAP


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}

data4$ven_soporte <- factor(data4$ven_soporte, levels = c(1,2,3,4,0), labels = c("oxigenoterapia_convencional", "oxigenoterapia_alto_flujo", "vent_mec_no_inv", "vent_mec_inva", "ninguna"))
data4$ven_modalidad <- factor(data4$ven_modalidad, levels = c(1,2,3,4), labels = c("vent_prog_volumen", "vent_prog_presion", "vent_mixta_doble_control", "presion_positiva_contra_via_aerea"))

data4$ven_humidificacion <- factor(data4$ven_humidificacion, levels = c(1,0), labels = c("Si", "No"))
data4$ven_prono <- factor(data4$ven_prono, levels = c(1,0), labels = c("Si", "No"))

data4$ven_ecmo <- factor(data4$ven_ecmo, levels = c(1,0), labels = c("Si", "No"))

data4$no_oxi <- factor(data4$no_oxi, levels = c(1,0), labels = c("Si", "No"))
data4$no_sop_inv <- factor(data4$no_sop_inv, levels = c(1,0), labels = c("Si", "No"))
data4$no_nes <- factor(data4$no_nes, levels = c(1,0), labels = c("Si", "No"))
data4$no_sop_no_inv <- factor(data4$no_sop_no_inv, levels = c(1,0), labels = c("Si", "No"))

```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data4$ven_soporte + data4$ven_modalidad + data4$ven_fio +data4$ven_pafi +data4$ven_po +data4$ven_pco +data4$ven_vol +data4$ven_frec_res +data4$ven_peep +data4$ven_presion_sop +data4$ven_tiempo +data4$ven_pme +data4$ven_pmeseta +data4$ven_compliance +data4$ven_humidificacion +data4$ven_prono +data4$ven_balance +data4$ven_compliance +data4$ven_ecmo , data=data4, overall = "Total")
```

#Tratamiento COVID en HUAP (oxigenoterapia convencional, sop. respiratorio invasivo, sop. respiratorio no invasivo, necesidad de m.a. de VM)

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data4$no_oxi +data4$no_sop_inv +data4$no_nes +data4$no_sop_no_inv, data=data4, overall = "Total")
```

#Necesidad de UPC, UCI en HUAP

```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}

data3$nesecidad_upc <- factor(data3$nesecidad_upc, levels = c(1,0), labels = c("Si", "No"))
data3$nesecidad_uci <- factor(data3$nesecidad_uci, levels = c(1,0), labels = c("Si", "No"))

```


```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data3$total_hosp + data3$nesecidad_upc + data3$total_upc + 
data3$nesecidad_uci + data3$total_uci,   data=data3, overall = "Total")
```

#Evaluación al egreso en HUAP


```{r echo=FALSE, comment=NA, results='hide',message=FALSE, warning = FALSE}
data3$tipo_egreso <- factor(data3$tipo_egreso, levels = c("1","2","3"), labels = c("Alta a domicilio","Traslado a otro centro hospitalario","Fallecimiento"))
data3$falla_multiple <- factor(data3$falla_multiple, levels = c(1,0), labels = c("Si", "No"))
data3$fibrosis_pulmonar <- factor(data3$fibrosis_pulmonar, levels = c(1,0), labels = c("Si", "No"))
data3$sos_tormenta <- factor(data3$sos_tormenta, levels = c(1,0), labels = c("Si", "No"))
data3$sos_enfermedad <- factor(data3$sos_enfermedad, levels = c(1,0), labels = c("Si", "No"))
data3$evento_cardio_mayor <- factor(data3$evento_cardio_mayor, levels = c(1,0), labels = c("Si", "No"))
data3$iaas<- factor(data3$iaas, levels = c(1,0), labels = c("Si", "No"))
data3$uso_vmi <- factor(data3$uso_vmi, levels = c(1,0), labels = c("Si", "No"))
data3$nesecidad_vmi <- factor(data3$nesecidad_vmi, levels = c(1,0), labels = c("Si", "No"))
data3$evol_rxtorax <- factor(data3$evol_rxtorax, levels = c(1,2,3), labels = c("mejoria", "progresion", "normalidad"))
data3$evol_tomo <- factor(data3$evol_tomo, levels = c(1,2,3), labels = c("mejoria", "progresion", "normalidad")) 
data3$fallecido <- factor(data3$fallecido, levels = c(1,0), labels = c("Si", "No"))
```

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}
table1(~ data3$tipo_egreso + data3$falla_multiple + data3$fibrosis_pulmonar + data3$sos_tormenta + data3$sos_enfermedad + data3$evento_cardio_mayor + data3$iaas + data3$uso_vmi + data3$nesecidad_vmi +  data3$total_upc  +  data3$total_uci  + data3$evol_rxtorax + data3$evol_tomo +  data3$fallecido, data=data3, overall = "Total")
```


```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}

setwd("/Users/juanpablocayunpellizaris/Dropbox/2021 PROGNO COVID 2021/3. COVID 2021/1. MONITOREO DEL ESTUDIO/7_REVISION_DATOS/PrognoCovid2")

data3_extraido <- data.frame(data3$cod_universal, data3$cod_participante,  data3$sexo, data3$edad_participante , data3$PCR , data3$prueba_serologica , data3$sospecha_clinica , data3$tabaco , data3$alcohol , data3$drogas , data3$dias_hosp , data3$num_enf_previas,
data3$ninguno , data3$fiebre , data3$escalofrio  ,data3$con_nasal  ,data3$tos_seca  ,data3$tos_productiva  ,data3$dolor_pecho  ,data3$disnea  ,data3$disnea_reposo  ,data3$taquipnea  ,data3$hiperpnea   ,data3$bradipnea  ,data3$estornudos ,data3$hemoptisis  ,data3$secresion_nasal  ,data3$irritacion_ocular  ,data3$conjuntivitis ,data3$diarrea  ,data3$cansancio  ,data3$entumecimiento  ,data3$dolor_abdominal  ,data3$dolor_espalda  ,data3$dolor_garganta  ,data3$dolor_respirar  ,data3$vomitos  ,data3$incap_hablar  ,data3$mialgia  ,data3$odinofagia  ,data3$adeusia  ,data3$decaimiento  ,data3$dolor_opresion_pecho  ,data3$lesiones_cutaneas ,data3$perdida_color_dedos  ,data3$mareos  ,data3$cefalea  ,data3$perdida_consciencia  ,data3$anosmia  ,data3$enrojecimento_piel ,data3$picazon_piel  ,data3$erupciones_bucales,
data3$ninguna  ,data3$bronquitis   ,data3$hipertension   ,data3$dislipidemias   ,data3$cardiopatia_cor   ,data3$enf_hep_cronica   ,data3$ins_renal_cronica   ,data3$asma  ,data3$epoc   ,data3$fibrosis_quistica_   ,data3$fibrosis_pulmonar_   ,data3$enfisema  ,data3$diabetes1   ,data3$diabetes2   ,data3$aterosclerosis   ,data3$acv   ,data3$ins_cardiaca   ,data3$obesidad   ,data3$enf_renal_cron   ,data3$crohn  ,data3$cancer  ,data3$tuberculosis   ,data3$vih   ,data3$enf_inf_previa   ,data3$enf_infecciosa  ,data3$anemia   ,data3$ar   ,data3$lupus   ,data3$otras_enf_reumatoides, data3$hep_b   ,data3$hep_c   ,data3$otra_hep  ,data3$demencia  ,data3$parkinson  ,data3$alzheimer   ,data3$depresion  ,data3$ansiedad   ,data3$alcohol_abuso   ,data3$drogas_abuso  ,data3$otro_salud_mental   ,data3$inmunosupresion   ,data3$aki   ,data3$enf_pul_intersticial   ,data3$inf_resp_menos_30dias  ,data3$otras_enf_previas,
data3$alergia , data3$peso , data3$altura , data3$imc , data3$peso_ideal , data3$alteracion_cutanea , data3$temp_ingreso , data3$frec_cardiaca , data3$dis_ingreso , data3$sis_ingreso , data3$art_media_ingreso , data3$glasgow , data3$medicamentos , data3$medicamentos_cuanto,
data3$total_hosp , data3$nesecidad_upc , data3$total_upc , data3$nesecidad_uci , data3$total_uci,
data3$tipo_egreso , data3$falla_multiple , data3$fibrosis_pulmonar , data3$sos_tormenta , data3$sos_enfermedad , data3$evento_cardio_mayor , data3$iaas , data3$uso_vmi , data3$nesecidad_vmi ,  data3$total_upc  ,  data3$total_uci  , data3$evol_rxtorax , data3$evol_tomo ,  data3$fallecido)

write.xlsx(data3_extraido, "data3_extraido.xlsx")

#con menos datos, para hacer el seguimiento y llenado básico

data5_extraido <- data.frame(data3$cod_universal, data3$cod_participante,  data3$sexo, data3$edad_participante , data3$PCR , data3$prueba_serologica , data3$sospecha_clinica , data3$tabaco , data3$alcohol , data3$drogas , data3$dias_hosp , data3$num_enf_previas, data3$medicamentos , data3$medicamentos_cuanto,
data3$total_hosp , data3$nesecidad_upc , data3$total_upc , data3$nesecidad_uci , data3$total_uci,
data3$tipo_egreso , data3$falla_multiple , data3$fibrosis_pulmonar , data3$sos_tormenta , data3$sos_enfermedad , data3$evento_cardio_mayor , data3$iaas , data3$uso_vmi , data3$nesecidad_vmi ,  data3$total_upc  ,  data3$total_uci, data3$evol_rxtorax , data3$evol_tomo ,  data3$fallecido)


write.xlsx(data5_extraido, "data5_extraido.xlsx")


data4_extraido <- data.frame(data4$cod_universal, data4$ven_soporte , data4$ven_modalidad , data4$ven_fio ,data4$ven_pafi ,data4$ven_po ,data4$ven_pco ,data4$ven_vol ,data4$ven_frec_res ,data4$ven_peep ,data4$ven_presion_sop ,data4$ven_tiempo ,data4$ven_pme ,data4$ven_pmeseta ,data4$ven_compliance ,data4$ven_humidificacion ,data4$ven_prono ,data4$ven_balance ,data4$ven_compliance ,data4$ven_ecmo ,
data4$no_oxi ,data4$no_sop_inv ,data4$no_nes ,data4$no_sop_no_inv)

write.xlsx(data4_extraido, "data4_extraido.xlsx")


```


#Medicamentos previos

```{r echo=FALSE, comment=NA,message=FALSE, warning = FALSE}

data3_med_prev_cod_uni <- data3$cod_universal
data3_med_prev_1 <- data3$tipo_medicamentos1
data3_med_prev_2 <- data3$tipo_medicamentos2
data3_med_prev_3 <- data3$tipo_medicamentos3
data3_med_prev_4 <- data3$tipo_medicamentos4
data3_med_prev_5 <- data3$tipo_medicamentos5
data3_med_prev_6 <- data3$tipo_medicamentos6
data3_med_prev_7 <- data3$tipo_medicamentos7
data3_med_prev_8 <- data3$tipo_medicamentos8
data3_med_prev_9 <- data3$tipo_medicamentos9
data3_med_prev_10 <- data3$tipo_medicamentos10
data3_med_prev_11 <- data3$tipo_medicamentos11
data3_med_prev_12 <- data3$tipo_medicamentos12
data3_med_prev_13 <- data3$tipo_medicamentos13
data3_med_prev_14 <- data3$tipo_medicamentos14
data3_med_prev_15 <- data3$tipo_medicamentos15
data3_med_prev_ot1 <- data3$tipo_medicamentos_ot1
data3_med_prev_ot2 <- data3$tipo_medicamentos_ot2
data3_med_prev_ot3 <- data3$tipo_medicamentos_ot3
data3_med_prev_ot4 <- data3$tipo_medicamentos_ot4
data3_med_prev_ot5 <- data3$tipo_medicamentos_ot5
data3_med_prev_ot6 <- data3$tipo_medicamentos_ot6
data3_med_prev_ot7 <- data3$tipo_medicamentos_ot7
data3_med_prev_ot8 <- data3$tipo_medicamentos_ot8
data3_med_prev_ot9 <- data3$tipo_medicamentos_ot9
data3_med_prev_ot10 <- data3$tipo_medicamentos_ot10
data3_med_prev_ot11 <- data3$tipo_medicamentos_ot11
data3_med_prev_ot12 <- data3$tipo_medicamentos_ot12
data3_med_prev_ot13 <- data3$tipo_medicamentos_ot13
data3_med_prev_ot14 <- data3$tipo_medicamentos_ot14
data3_med_prev_ot15 <- data3$tipo_medicamentos_ot15

setwd("/Users/juanpablocayunpellizaris/Dropbox/2021 PROGNO COVID 2021/3. COVID 2021/1. MONITOREO DEL ESTUDIO/7_REVISION_DATOS/PrognoCovid2")

data3_extraido_med_previos <- data.frame(
data3_med_prev_cod_uni ,
data3_med_prev_1 ,
data3_med_prev_2 ,
data3_med_prev_3 ,
data3_med_prev_4 ,
data3_med_prev_5 ,
data3_med_prev_6 ,
data3_med_prev_7 ,
data3_med_prev_8 ,
data3_med_prev_9 ,
data3_med_prev_10 ,
data3_med_prev_11 ,
data3_med_prev_12 ,
data3_med_prev_13 ,
data3_med_prev_14 ,
data3_med_prev_15 ,
data3_med_prev_ot1 ,
data3_med_prev_ot2 ,
data3_med_prev_ot3 ,
data3_med_prev_ot4 ,
data3_med_prev_ot5 ,
data3_med_prev_ot6 ,
data3_med_prev_ot7 ,
data3_med_prev_ot8 ,
data3_med_prev_ot9 ,
data3_med_prev_ot10 ,
data3_med_prev_ot11 ,
data3_med_prev_ot12 ,
data3_med_prev_ot13 ,
data3_med_prev_ot14 ,
data3_med_prev_ot15 
  
)
  
write.xlsx(data3_extraido_med_previos, "data3_extraido_med_previos.xlsx")

```




#########################################################################
#########################################################################
#########################################################################
#########################################################################


